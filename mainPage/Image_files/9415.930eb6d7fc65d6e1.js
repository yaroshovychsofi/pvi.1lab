"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9415],{47094:function(e,t,n){n.d(t,{B:function(){return a}});var r=n(57851),i=n(85893),a=function(e){var t=e.className;return(0,i.jsxs)("svg",{width:"55",height:"55",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:(0,r.m)("fill-[var(--dark-gray)] dark:fill-white",t),children:[(0,i.jsx)("path",{d:"M44.9151 0.820312H11.0855C5.42482 0.820312 0.819824 5.42531 0.819824 11.0859V44.9156C0.819824 50.5762 5.42482 55.1803 11.0855 55.1803H44.9151C50.5748 55.1803 55.1798 50.5753 55.1798 44.9156V11.0859C55.1798 5.42531 50.5748 0.820312 44.9151 0.820312ZM11.0855 2.69531H44.9151C49.5417 2.69531 53.3048 6.45938 53.3048 11.0859V42.6525L46.3476 35.6953C45.4645 34.8113 44.2851 34.3237 43.027 34.3237C41.7698 34.3237 40.5905 34.8113 39.7073 35.6944L31.7939 43.5966L15.9998 27.8025C15.1167 26.9184 13.942 26.4319 12.6933 26.4319C11.4445 26.4319 10.2708 26.9194 9.3867 27.8025L2.69576 34.4934V11.0859C2.69482 6.45844 6.45795 2.69531 11.0855 2.69531ZM2.69482 44.9156V37.1447L10.7114 29.1281C11.7717 28.0678 13.6139 28.0688 14.6742 29.1281L38.8523 53.3053H11.0855C6.45795 53.3053 2.69482 49.5422 2.69482 44.9156ZM44.9151 53.3053H41.5026L33.1205 44.9231L41.033 37.0209C42.0942 35.9606 43.9626 35.9616 45.022 37.0209L53.2861 45.285C53.0911 49.7391 49.417 53.3053 44.9151 53.3053Z"}),(0,i.jsx)("path",{d:"M28.0137 20.7667C31.4177 20.7667 34.1861 17.9973 34.1861 14.5942C34.1861 11.1761 31.4177 8.39453 28.0137 8.39453C24.5955 8.39453 21.814 11.1752 21.814 14.5942C21.813 17.9973 24.5946 20.7667 28.0137 20.7667ZM28.0137 10.2686C30.3827 10.2686 32.3111 12.2083 32.3111 14.5933C32.3111 16.9633 30.3827 18.8908 28.0137 18.8908C25.6287 18.8908 23.689 16.9623 23.689 14.5933C23.688 12.2092 25.6287 10.2686 28.0137 10.2686Z"})]})}},65334:function(e,t,n){n.d(t,{w:function(){return de},G:function(){return oe}});var r=n(47094),i=n(32994),a=n(85893),s=function(e){var t=e.children;return(0,a.jsx)("div",{className:"flex items-center justify-center bg-irBlue-100 dark:bg-darkPrimary-600 p-3",children:t})},l=n(65392),o=n(7706),d=n(4713),c=n(23603),u=function(e){var t=e.className,n=void 0===t?"fill-black dark:fill-white":t;return(0,a.jsxs)("svg",{width:"15.8",height:"17.9",viewBox:"0 0 21 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:n,children:[(0,a.jsx)("path",{d:"M9.62797 16.8053H3.14748C2.29062 16.8053 1.5933 16.1082 1.5933 15.2514V2.64748C1.5933 1.7904 2.29062 1.09308 3.14748 1.09308H13.6512C14.5076 1.09308 15.2047 1.7904 15.2047 2.64748V8.60266C15.2047 8.90398 15.45 9.14908 15.7514 9.14908C16.0527 9.14908 16.298 8.90398 16.298 8.60266V2.64748C16.298 1.18775 15.1105 0 13.6512 0H3.14748C1.68752 0 0.5 1.18775 0.5 2.64748V15.2514C0.5 16.7111 1.68752 17.8988 3.14748 17.8988H9.62797C9.9293 17.8988 10.1746 17.6535 10.1746 17.352C10.1746 17.0506 9.9293 16.8053 9.62797 16.8053Z"}),(0,a.jsx)("path",{d:"M15.2266 9.45312C12.3191 9.45312 9.95361 11.8188 9.95361 14.7261C9.95339 17.6338 12.3191 19.9995 15.2266 19.9995C18.1341 19.9995 20.4998 17.6338 20.4998 14.7263C20.4998 11.8188 18.1341 9.45312 15.2266 9.45312ZM15.2266 18.9062C12.922 18.9062 11.0467 17.0311 11.0467 14.7261C11.0467 12.421 12.9218 10.546 15.2266 10.546C17.5316 10.546 19.4067 12.421 19.4067 14.7261C19.4067 17.0311 17.5316 18.9062 15.2266 18.9062Z"}),(0,a.jsx)("path",{d:"M17.5272 14.1807H15.7733V12.4265C15.7733 12.1252 15.5279 11.8799 15.2264 11.8799C14.9248 11.8799 14.6795 12.1252 14.6795 12.4265V14.1807H12.9256C12.6245 14.1807 12.3789 14.426 12.3789 14.7271C12.3789 15.0287 12.6242 15.274 12.9256 15.274H14.6795V17.0282C14.6795 17.3295 14.9248 17.5748 15.2264 17.5748C15.5279 17.5748 15.7733 17.3295 15.7733 17.0282V15.2738H17.5272C17.8283 15.2738 18.0739 15.0285 18.0739 14.7269C18.0739 14.4254 17.8285 14.1807 17.5272 14.1807Z"}),(0,a.jsx)("path",{d:"M12.2545 4.40234H4.5447C4.24337 4.40234 3.99805 4.64767 3.99805 4.94922C3.99805 5.25032 4.24337 5.49565 4.5447 5.49565H12.2538C12.5551 5.49565 12.8007 5.25032 12.8007 4.94922C12.8009 4.64767 12.5556 4.40234 12.2545 4.40234Z"}),(0,a.jsx)("path",{d:"M12.8009 8.4236C12.8009 8.12228 12.5556 7.87695 12.2545 7.87695H4.5447C4.24337 7.87695 3.99805 8.12228 3.99805 8.4236C3.99805 8.72471 4.24337 8.97003 4.5447 8.97003H12.2538C12.5556 8.97003 12.8009 8.72493 12.8009 8.4236Z"}),(0,a.jsx)("path",{d:"M4.5447 11.3545C4.24337 11.3545 3.99805 11.5998 3.99805 11.9014C3.99805 12.2025 4.24337 12.4478 4.5447 12.4478H9.10302C9.40434 12.4478 9.64967 12.2025 9.64967 11.9014C9.64967 11.6 9.40434 11.3545 9.10302 11.3545H4.5447Z"})]})},p=n(29098),h=n(14124),m=n(10131),f=n(77435),x=n(59738),g=function(e){var t=e.handleClick,n=e.handleFile,r=e.allowMultiple,i=e.htmlFileInputId,s=e.supportedExtensions,o=(0,l.F)(n,{allowMultiple:!!r,supportedExtensions:s},i).handleClick;return(0,a.jsxs)("li",{className:"hover:bg-slate-200 dark:hover:bg-darkSurface-300 flex items-center gap-4 px-6 py-4","data-testid":"device-upload",onClick:function(){t(),o()},id:"uploader-device-upload",children:[(0,a.jsx)("div",{children:(0,a.jsx)(x.u,{width:15.8,height:17.9})}),(0,a.jsx)("div",{className:"capitalize",children:(0,a.jsx)(m.vN,{keyName:"from-device"})})]})},v=n(96497),k=n(63558),j=n(38813),b=function(e){var t=e.handleClick,n=e.handleFile,r=e.allowMultiple,i=e.supportedExtensions,s=(0,k.y)(n,{allowMultiple:r,supportedExtensions:i},!0),l=s.handleClick,o=s.isLoading;return(0,a.jsxs)("li",{className:"hover:bg-slate-200 dark:hover:bg-darkSurface-300 flex items-center gap-4 px-6 py-4","data-testid":"dropbox-upload",onClick:function(){t(),l()},children:[(0,a.jsx)("div",{children:o?(0,a.jsx)(j.a,{className:"stroke-[var(--dark-gray)]",width:19.63,height:16.58}):(0,a.jsx)(v.X,{width:19.63,height:16.58})}),(0,a.jsx)(m.vN,{keyName:"from-dropbox"})]})},C=n(4516),N=function(e){var t=e.handleClick,n=e.isLoading;return(0,a.jsxs)("li",{className:"hover:bg-slate-200 dark:hover:bg-darkSurface-300 flex items-center gap-4 px-6 py-4",onClick:function(){t()},children:[(0,a.jsx)("div",{children:n?(0,a.jsx)(j.a,{width:17.48,height:16}):(0,a.jsx)(C.m,{width:17.48,height:16})}),(0,a.jsx)(m.vN,{keyName:"from-google-drive"})]})},w=n(54879),y=function(e){var t=e.handleFile,n=e.allowMultiple,r=e.htmlFileInputId,i=e.supportedExtensions,s=e.analytics,x=(0,w.MS)(s),v=x.isFocused,k=x.ref,j=x.toggleFocus,C=x.handleUploadTypeChange,y=(0,l.F)(t,{allowMultiple:n,supportedExtensions:i},r).handleClick,I=(0,o.e)(t,{allowMultiple:n,supportedExtensions:i},v),S=I.accessError,V=I.handleClick,E=I.setAccessError,M=I.isLoading;return(0,a.jsxs)("div",{className:"relative cursor-pointer flex bg-slate-50 dark:bg-darkSurface-200 rounded-md mt-8 select-none",ref:k,children:[(0,a.jsxs)("button",{className:"flex items-center py-5 px-6 gap-4 border-r-slate-200 dark:border-r-darkSurface-100 border-r hover:bg-irGray-200 dark:hover:bg-darkSurface-300 rounded-md",onClick:function(e){y(),C("device",!0)},"data-testid":"device-upload-direct",children:[(0,a.jsx)(u,{}),(0,a.jsx)("div",{className:"font-semibold whitespace-nowrap leading-4-5 text-black dark:text-white",children:(0,a.jsx)(m.vN,{keyName:"uploader-select-image"})})]}),(0,a.jsx)(f.z,{isOpen:S,close:function(){return E(!1)},handleRetry:function(){C("googleDrive"),V()}}),(0,a.jsx)(h.e,{text:(0,d.k)(v?(0,m.Iu)("uploader-close-menu"):(0,m.Iu)("uploader-expand-menu")),position:{y:"up"},children:(0,a.jsx)("div",{className:"rounded-md overflow-hidden flex items-center justify-center px-5 ".concat(v&&"bg-slate-200 dark:bg-darkSurface-200"," hover:bg-irGray-200 dark:hover:bg-darkSurface-300 h-full"),onClick:j,children:v?(0,a.jsx)("div",{className:"rotate-180",onClick:j,children:(0,a.jsx)(c.e,{width:16,height:8})}):(0,a.jsx)("div",{onClick:j,children:(0,a.jsx)(c.e,{width:16,height:8})})})}),v&&(0,a.jsx)("div",{className:"shadow-2xl rounded-md overflow-hidden absolute top-full left-0 right-0 text-black dark:text-white pt-2 z-10",children:(0,a.jsxs)("ul",{className:"cursor-pointer rounded-md overflow-hidden flex flex-col bg-white dark:bg-darkSurface-200",children:[(0,a.jsx)(g,{handleClick:function(){return C("device")},handleFile:t,allowMultiple:n,htmlFileInputId:"file",supportedExtensions:i}),(0,a.jsx)(b,{handleClick:function(){return C("dropBox")},handleFile:t,allowMultiple:n,supportedExtensions:i}),(0,a.jsx)(N,{isLoading:M,handleClick:function(){C("googleDrive"),V()}}),(0,a.jsxs)("li",{className:"hover:bg-slate-200 dark:hover:bg-darkSurface-300 flex items-center gap-4 px-6 py-4","data-testid":"url-upload-selector",onClick:function(){return C("url")},children:[(0,a.jsx)("div",{children:(0,a.jsx)(p.H,{width:16,height:16})}),(0,a.jsx)(m.vN,{keyName:"from-url"})]})]})})]})},I=n(97266),S=n(82566),V=n(39156),E=n(25617),M=n(40524),T=function(e){var t=e.handleFile,n=e.supportedExtensions,r=(0,I.g)(t,(function(){}),{supportedExtensions:n}),i=r.url,s=r.handleChange,l=r.handleSubmit,o=r.error,u=r.handleKeyPress,p=r.isValidating,h=(0,E.I0)();return(0,a.jsxs)("div",{className:"flex flex-col text-white py-8 gap-6","data-testid":"url-upload-container",children:[(0,a.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:function(){h((0,M.Q9)({uploadType:"device"}))},children:[(0,a.jsx)("div",{className:"rotate-90 mr-2",children:(0,a.jsx)(c.e,{className:"stroke-white",height:15,width:15})}),(0,a.jsx)("div",{className:"font-semibold text-xl capitalize",children:(0,a.jsx)(m.vN,{keyName:"back"})})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(V.m,{url:i,handleChange:s,handleKeyPress:u,handleSubmit:l,isValidating:p}),o&&(0,a.jsxs)("div",{className:"text-xl font-semibold text-red-700","data-testid":"url-upload-input-error",children:[(0,d.k)((0,S.V)("error")),": ",o]})]})]})},F=n(50029),_=n(87794),L=n.n(_),Z=n(24713),H=n(23559),U=n(64663),B=n(82793),O=n(90177),A=n(67992),D=n(27840),G=n(91248),z=n(31400),P=n(12613),R=n(62926),K=n(26758),Y=n(85127),J=n(72125),Q=n(67294),X=null,$=["creating_task","task_created","importing"],q=[],W=n(16541),ee=n(51556),te=n(94321),ne=function(e){var t,n,i,s,l,o=e.image,c=e.handleImportCancel,u=e.deleteImage,p=e.skipDeviceImport,m=o.file,f=o.fileState,x=o.task,g="device"===o.upload.type&&p;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"lg:hidden flex items-center bg-white dark:bg-darkSurface-100 dark:text-white rounded-md py-4 px-2 gap-4",children:[(0,a.jsxs)("div",{className:"flex-grow flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex justify-between",children:m&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("div",{className:"font-semibold whitespace-nowrap",children:[(0,a.jsx)("div",{className:"hidden md:block",children:(0,W.u)(null!==(t=m.file.name)&&void 0!==t?t:"",30)}),(0,a.jsx)("div",{className:"hidden sm:block md:hidden",children:(0,W.u)(null!==(n=m.file.name)&&void 0!==n?n:"",20)}),(0,a.jsx)("div",{className:"sm:hidden",children:(0,W.u)(null!==(i=m.file.name)&&void 0!==i?i:"",10)})]}),(0,a.jsx)("div",{className:"whitespace-nowrap",children:m.size})]})}),(0,a.jsx)("div",{className:"relative bg-irGray-200 dark:bg-darkSurface-600 w-full h-2 rounded-l-full rounded-r-full overflow-hidden",children:"continuous"===f.progress?(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 bg-irGreen-400 rounded-l-full rounded-r-full w-24 transition-all animate-progress"}):(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 bg-irGreen-400 rounded-l-full rounded-r-full normal-case",style:{width:"".concat(f.progress,"%")}})}),(0,a.jsxs)("div",{className:"capitalize",children:["importing"===f.status&&(0,a.jsxs)("div",{"data-testid":"fileStatus-uploading",id:"fileStatus-importing",children:[(0,S.V)("common:uploading")," ","".concat("continuous"!==f.progress?"".concat(f.progress,"%"):""),(0,a.jsx)("span",{className:"normal-case",children:f.speed&&"( ".concat(f.speed," / s )")})]}),"imported"===f.status&&(0,a.jsx)("div",{id:"fileStatus-imported",children:"".concat((0,S.V)("uploaded")," ").concat(f.progress,"%")}),"adding"===f.status&&(0,a.jsx)("div",{className:"",children:(0,S.V)("common:uploading")})]})]}),(0,a.jsxs)("div",{className:"flex-grow-0",children:["imported"!==f.status&&"importing"!==f.status&&!g&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"cursor-pointer",onClick:function(){return u(o)},children:(0,a.jsx)(ee.T,{width:8,height:8})})}),("imported"!==f.status||f.status.includes("creating_task"))&&x&&!g&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"cursor-pointer",onClick:function(){return c(x)},children:(0,a.jsx)(ee.T,{width:8,height:8})})}),"imported"==f.status&&x&&!g&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("div",{className:"cursor-pointer",onClick:function(){return u(o)},children:(0,a.jsx)(te.p,{})})})]})]}),(0,a.jsxs)("div",{className:"hidden lg:grid gap-4 bg-white dark:bg-darkSurface-100 p-4 rounded-md dark:text-white",style:{gridTemplateColumns:"fit-content(100%) auto fit-content(100%)"},"data-testid":"file-".concat(o.file.file.name,"-container"),children:[(0,a.jsx)("div",{className:"hidden lg:block",children:(0,a.jsx)(r.B,{})}),(0,a.jsxs)("div",{className:"w-full flex flex-col justify-between gap-2 my-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[m&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.e,{text:null!==(s=m.file.name)&&void 0!==s?s:"",children:(0,a.jsx)("div",{className:"font-semibold select-text",children:(0,W.u)(null!==(l="".concat(m.file.name))&&void 0!==l?l:"",20)})}),(0,a.jsx)("div",{className:"",children:m.size})]}),(0,a.jsxs)("div",{className:"capitalize",children:["importing"===f.status&&(0,a.jsxs)("div",{"data-testid":"file-".concat(o.file.file.name,"-importing"),id:"fileStatus-importing",children:[(0,S.V)("common:uploading")," ","".concat("continuous"!==f.progress?"".concat(f.progress,"%"):""),(0,a.jsx)("span",{className:"normal-case",children:f.speed&&"( ".concat(f.speed," / s )")})]}),"imported"===f.status&&(0,a.jsx)("div",{"data-testid":"file-".concat(o.file.file.name,"-imported"),id:"fileStatus-imported",children:"".concat((0,S.V)("uploaded")," ").concat(f.progress,"%")}),"adding"===f.status&&(0,a.jsx)("div",{className:"",children:(0,S.V)("common:uploading")})]})]}),(0,a.jsx)("div",{className:"relative bg-irGray-200 dark:darkSurface-600 w-full h-2 rounded-l-full rounded-r-full overflow-hidden",children:"continuous"===f.progress&&"added"!==f.status?(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 bg-irGreen-400 rounded-l-full rounded-r-full w-24 transition-all animate-progress"}):(0,a.jsx)("div",{className:"absolute top-0 bottom-0 left-0 bg-irGreen-400 rounded-l-full rounded-r-full normal-case",style:{width:"".concat(f.progress,"%")}})})]}),"imported"!==f.status&&"importing"!==f.status&&!g&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(h.e,{text:(0,d.k)((0,S.V)("cancel-upload")),position:{y:"up"},children:(0,a.jsxs)("div",{className:"group cursor-pointer",onClick:function(){return u(o)},children:[(0,a.jsx)("div",{className:"group-hover:hidden",children:(0,a.jsx)(ee.T,{width:12,height:12})}),(0,a.jsx)("div",{className:"hidden group-hover:block",children:(0,a.jsx)(ee.T,{width:12,height:12,className:"stroke-[var(--red-500)]"})})]})})}),("importing"==f.status||f.status.includes("creating_task"))&&x&&!g&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(h.e,{text:(0,d.k)((0,S.V)("cancel-upload")),position:{y:"up"},children:(0,a.jsxs)("div",{className:"group cursor-pointer",onClick:function(){return c(x)},children:[(0,a.jsx)("div",{className:"group-hover:hidden",children:(0,a.jsx)(ee.T,{width:12,height:12})}),(0,a.jsx)("div",{className:"hidden group-hover:block",children:(0,a.jsx)(ee.T,{width:12,height:12,className:"stroke-[var(--red-500)]"})})]})})}),"imported"==f.status&&x&&!g&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(h.e,{text:(0,d.k)((0,S.V)("delete-image")),position:{y:"up"},children:(0,a.jsx)("div",{className:"group cursor-pointer",onClick:function(){return u(o)},children:(0,a.jsx)(te.p,{})})})})]})]})},re=function(e){var t=e.images,n=e.handleCancelAllImports;return(0,a.jsx)("div",{className:"flex items-center justify-between text-black dark:text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"font-semibold capitalize",children:t.length>1?(0,S.V)("your-images"):(0,S.V)("your-image")}),t.length>1&&(0,a.jsxs)("div",{className:"text-irGray-600 dark:text-darkSurface-600 underline underline-offset-2 cursor-pointer capitalize",onClick:n,children:[(0,a.jsx)(m.vN,{keyName:"remove-all"})," (",t.length,")"]})]})})},ie=function(e,t){return JSON.stringify(e.images)===JSON.stringify(t.images)},ae=function(e){var t=["added","creating_task","creating_task_failed","importing","importing_failed","imported"];return e.filter((function(e){return t.includes(e.fileState.status)}))},se=function(e){var t=e.handleImportCancel,n=e.deleteImage,r=e.handleCancelAllImports,i=e.skipDeviceImport,s=function(){var e=(0,O.CG)(B.d,ie).images;return{images:ae(e)}}().images;return 0===Object.keys(s).length?null:(0,a.jsxs)("div",{className:"my-2 py-6 px-4 w-auto bg-irBlue-100 dark:bg-darkSurface-200 flex flex-col rounded-md gap-6",children:[(0,a.jsx)(re,{images:s,handleCancelAllImports:r}),(0,a.jsx)("div",{className:"flex flex-col gap-1",children:Object.values(s).map((function(e){return(0,a.jsx)(ne,{deleteImage:n,image:e,handleImportCancel:t,skipDeviceImport:i},e.id)}))})]})},le=function(){var e,t=function(){var e=(0,O.CG)(B.d).invalidImageExtensionModal,t=e.isOpen,n=e.invalidExts,r=e.allowedExts,i=(0,O.TL)();return{isOpen:t,closeModal:function(){return i((0,M.y0)())},allowedExts:r,invalidExts:n}}(),n=t.isOpen,r=t.closeModal,s=t.allowedExts,l=t.invalidExts;return(0,a.jsx)(i.u,{isOpen:n,close:r,children:(0,a.jsx)("div",{className:"w-full h-screen flex items-center justify-center text-black",onClick:r,children:(0,a.jsxs)("div",{className:"bg-white dark:bg-darkSurface-300 inline-flex flex-col items-center p-8 rounded-lg relative text-black dark:text-white",onClick:function(e){return e.stopPropagation()},children:[(0,a.jsx)("div",{className:"text-xl font-semibold mb-8",children:(0,a.jsx)(m.vN,{keyName:"invalid-extension-title"})}),(0,a.jsx)("div",{children:(0,a.jsx)(m.vN,{keyName:"invalid-extension-text",variables:{all_extensions:l.join(", ").toUpperCase(),allowed_extensions:s.join(", ").toUpperCase()}})}),(0,a.jsx)("button",{className:"cursor-pointer inline-block bg-irBlue-200 dark:bg-darkPrimary-500 dark:text-black dark:hover:bg-darkPrimary-400 hover:bg-irBlue-600 text-white px-16 py-2 rounded-md mt-8",onClick:r,children:null===(e=(0,S.V)("common:ok"))||void 0===e?void 0:e.toUpperCase()}),(0,a.jsxs)("div",{className:"group cursor-pointer absolute right-4 top-4",onClick:r,children:[(0,a.jsx)("div",{className:"group-hover:hidden",children:(0,a.jsx)(ee.T,{})}),(0,a.jsx)("div",{className:"hidden group-hover:block",children:(0,a.jsx)(ee.T,{className:"stroke-[var(--red-500)]"})})]})]})})})},oe="image-uploader-container",de=function(e){var t=e.maxUploads,n=e.deleteImage,l=e.deleteAllImages,o=e.htmlFileInputId,c=e.analytics,u=e.supportedExtensions,p=e.settingsSlot,h=e.shouldSkipImport,f=e.skipImportAfterTaskCreate,x=function(e,t){var n=(0,O.CG)(B.d),r=n.images,i=n.uploadType;q=r;var a=(0,O.TL)(),s=(0,H.p)(),l=s.toast,o=s.removeBatch,c=(0,R.x)().handleCreateImportTask,u=function(){var t=(0,F.Z)(L().mark((function t(n,r,i,a){return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("device"!==a){t.next=7;break}if(!e.skipImportAfterTaskCreate){t.next=4;break}return h(r),t.abrupt("return");case 4:return t.next=6,te(i,r,{});case 6:return t.abrupt("return");case 7:return t.next=9,re(r,{});case 9:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),p=function(e,t,n){a((0,M.Ou)({task:e,fileState:{progress:null!==n&&void 0!==n?n:0,status:"importing"}}))},h=function(){var e=(0,F.Z)(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a((0,M.Ou)({task:t,fileState:{status:"imported",progress:100}})),e.next=3,(0,Y._)();case 3:_();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=(0,d.k)((0,S.V)("upload-failed")),f=function(){var e=(0,F.Z)(L().mark((function e(t){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("on failure called"),a((0,M.Yd)({taskId:t.id})),l({closeable:!0,position:"top-right",status:"error",text:m,time:z.w}),e.next=5,(0,Y._)();case 5:_();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(0,d.k)((0,S.V)("upload-cancelled")),g=function(e){a((0,M.Yd)({taskId:e.id})),l({closeable:!0,position:"top-right",status:"error",text:x,time:z.w})},v=function(){var t=(0,F.Z)(L().mark((function t(n,r,i){var a;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.length){t.next=2;break}return t.abrupt("return");case 2:if(a=e.filterFiles?e.filterFiles(n):n,j(a)){t.next=5;break}return t.abrupt("return");case 5:a.forEach(function(){var e=(0,F.Z)(L().mark((function e(t,n){return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=T,e.next=3,w(t,r,i);case 3:return e.t1=e.sent,e.t2=n,e.next=7,(0,e.t0)(e.t1,e.t2);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),k();case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),k=function(){var t=(0,F.Z)(L().mark((function t(){var n;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.shouldSkipImport){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,(0,Y._)();case 4:null===(n=document.getElementById(oe))||void 0===n||n.scrollIntoView({behavior:"smooth"});case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(e){return b(e.length)&&y(),!C(e.length)||(N(),!1)},b=function(t){return 1===e.maxUploads&&1===t},C=function(t){return t>e.maxUploads-q.length},N=function(){l({closeable:!0,position:"top-right",status:"error",batch:"max-upload-limit",text:"Max Upload Limit is ".concat(P.El," images at a time."),time:z.w})},w=function(){var t=(0,F.Z)(L().mark((function t(n,r,i){var s,l;return L().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(s=X)||void 0===s){t.next=4;break}t.t0=s,t.next=7;break;case 4:return t.next=6,(0,K.h)();case 6:t.t0=t.sent;case 7:return X=t.t0,l={id:(0,D.w)(),file:n,fileState:{status:"added",progress:e.shouldSkipImport?100:"continuous"},task:null,upload:{type:r,settings:i}},a((0,M.mN)(l)),t.abrupt("return",l);case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),y=function(){t(),ne()},I="".concat((0,S.V)("you-are-offline")," ").concat((0,S.V)("trying-to-reconnect")),V=(0,Q.useMemo)((function(){return(0,S.V)("on-reconnect-text")}),[]),E=(0,J.s)((function(e){c(e,e.file,e.upload.type,e.upload.settings,U.A,u)}),(function(){return q.filter((function(e){return $.includes(e.fileState.status)}))}),(function(){return q.filter((function(e){return"added"===e.fileState.status}))}),!!e.shouldSkipImport),T=E.handleBatchedSingleFile,_=E.proceedNextImports,W=(0,Z.U)({onStart:p,onComplete:h,onFailure:f,onOfflineLimitReach:g,onProgress:function(e,t,n){a((0,M.Ou)({task:e,fileState:{progress:t,speed:n}}))},onDisconnect:function(){l({closeable:!0,position:"top-right",status:"error",batch:"disconnect",text:I})},onReconnect:function(){l({closeable:!0,position:"top-right",status:"success",batch:"reconnect",text:V,time:z.w}),o("disconnect")}}),ee=W.handleDeviceCancel,te=W.handleDeviceImport,ne=W.handleCancelAllDeviceImports,re=(0,A.g)({onStart:function(e){return p(e)},onComplete:h,onFailure:f,onOfflineLimitReach:g}).handleExternalImport,ie=(0,G.T)(document.body,v,{allowMultiple:e.maxUploads>1,supportedExtensions:e.supportedExtensions}).isDragging;return(0,Q.useEffect)((function(){return function(){q=[]}}),[]),{images:r,uploadType:i,handleFile:v,handleImportCancel:function(e){a((0,M.Yd)({taskId:e.id})),"device"===i&&ee(e)},handleCancelAllImports:y,isDragging:ie}}({maxUploads:t,shouldSkipImport:h,skipImportAfterTaskCreate:f,supportedExtensions:u,filterFiles:e.filterFiles},l),g=x.uploadType,v=x.handleFile,k=x.handleImportCancel,j=x.handleCancelAllImports,b=x.isDragging;return(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)(s,{children:[(0,a.jsx)("div",{className:"w-full h-full py-10 px-4 bg-irBlue-200 dark:bg-darkPrimary-100 flex items-center justify-center border-4 border-irBlue-600 dark:border-darkPrimary-400 border-dashed",id:oe,children:"url"!==g?(0,a.jsxs)("div",{className:"flex flex-col items-center text-sm md:text-base",children:[(0,a.jsx)(r.B,{className:"fill-white"}),(0,a.jsx)(y,{handleFile:v,allowMultiple:t>1,htmlFileInputId:o,analytics:c,supportedExtensions:u}),(0,a.jsx)("div",{className:"text-black mt-4 font-semibold",children:(0,a.jsx)(m.vN,{keyName:"uploader-sub-title"})})]}):(0,a.jsx)(T,{handleFile:v,supportedExtensions:u})}),(0,a.jsx)(i.u,{isOpen:b,children:(0,a.jsx)("div",{className:"w-full h-screen bg-blue-400 flex items-center justify-center text-white font-semibold text-2xl",children:(0,a.jsx)(m.vN,{keyName:"uploader-dragging-title"})})})]}),p,(0,a.jsx)(se,{deleteImage:n,handleImportCancel:k,handleCancelAllImports:j,skipDeviceImport:f}),(0,a.jsx)(le,{})]})}},54879:function(e,t,n){n.d(t,{MS:function(){return c},Vi:function(){return p}});var r=n(8881),i=n(34796),a=n(96517),s=n(26758),l=n(67294),o=n(40524),d=n(90177),c=function(e){var t=(0,l.useState)(!1),n=t[0],i=t[1],a=function(){return i(!n)},c=(0,l.useRef)(null);(0,r.t)(c,n,a);var p=(0,d.TL)();return{isFocused:n,ref:c,toggleFocus:a,handleUploadTypeChange:function(t,n){p((0,o.Q9)({uploadType:t})),u(e),!n&&a(),(0,s.h)()}}},u=function(e){(0,i.ga)("send",{hitType:"pageview",page:"/vp/".concat(e.pageKey,"/image_selected/"),title:"".concat(e.pageTitle," Image Selected")}),(0,a.S)("event","Select Image",{event_category:e.pageTitle,event_label:"Upload"})},p=function(e){(0,i.ga)("send",{hitType:"pageview",page:"/vp/".concat(e.pageKey,"/image_loaded/"),title:"".concat(e.pageTitle," Image Loaded")}),(0,a.S)("event","Image Loaded",{event_category:e.pageTitle,event_label:"Editor Page"})}},82793:function(e,t,n){n.d(t,{d:function(){return r}});var r=function(e){return e.imageUploader}},25934:function(e,t,n){var r;n.d(t,{Z:function(){return u}});var i=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var l=function(e){return"string"===typeof e&&s.test(e)},o=[],d=0;d<256;++d)o.push((d+256).toString(16).substr(1));var c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase();if(!l(n))throw TypeError("Stringified UUID is invalid");return n};var u=function(e,t,n){var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return c(r)}}}]);
//# sourceMappingURL=9415.930eb6d7fc65d6e1.js.map