"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6127],{6127:function(e,t,n){n.r(t),n.d(t,{ResizeUploader:function(){return y}});var r=n(74186),i=n(51731),o=n(65334),u=n(12613),l=n(34796),a=n(96517),s=n(11163),c=n(60071),f=n(90177),g=n(51747),d=n(21399),p=n(41495),m=n(32892),S=n(23559),v=n(31400),h=n(82566),z=n(67294),I=function(){var e=(0,s.useRouter)(),t=(0,f.TL)(),n=(0,S.p)().toast,r=(0,s.useRouter)().query,i=(0,g.J)((function(){var n,r,i,u,l,a,s,f,g=null===(n=o[0])||void 0===n?void 0:n.task;if(g){var S=o[0];if(S.file){var v="device"===S.upload.type?S.file.src:null!==(r=null===(i=S.task)||void 0===i||null===(u=i.result)||void 0===u||null===(l=u.url)||void 0===l?void 0:l.toString())&&void 0!==r?r:S.file.src;t((0,c.QL)({src:v,height:0,width:0,initialHeight:0,initialWidth:0,originalHeight:0,originalWidth:0,containerWidth:0,containerHeight:0,ratio:1,title:S.file.file.name,ext:(0,p.Z)(S.file.file)})),t((0,d.mc)()),e.push("/".concat("en"===e.locale?"":"".concat(e.locale,"/")).concat(null===(a=m.Z["/resize/editor/:taskId"])||void 0===a||null===(s=a[null!==(f=e.locale)&&void 0!==f?f:"en"])||void 0===s?void 0:s.replace(":taskId",g.id)))}}}),(function(){(0,l.ga)("send",{hitType:"pageview",page:"/vp/image_resizer/image_loaded/",title:"Image Resizer Image Loaded"}),(0,a.S)("event","Image Loaded",{event_category:"Image Resizer",event_label:"Upload Page"})})),o=i.images,u=i.deleteImage,I=i.deleteAllImages,C=(0,h.V)("use-our-bulk-resize-tool-to-batch-resize-images");var R=(0,h.V)("corrupt-image-toast-test");return(0,z.useEffect)((function(){"true"===r.errorFromEditor&&(console.log("error yoooo"),n({closeable:!0,position:"top-right",status:"success",text:R,time:v.w}))}),[r]),{deleteImage:u,deleteAllImages:I,filterFiles:function(e){var t;return e.length>1&&(t=e.length,n({closeable:!0,position:"top-right",status:"success",text:C,time:v.w}),t>10&&(0,a.S)("event","Select Image",{event_category:"Image Resizer",event_label:"Batch upload on single resizer"})),[e[0]]}}},C=n(85893),R=function(){var e=I(),t=e.deleteImage,n=e.deleteAllImages,i=e.filterFiles;return(0,C.jsx)(o.w,{deleteImage:t,deleteAllImages:n,maxUploads:u.El,analytics:{pageKey:"image_resizer",pageTitle:"Image Resizer"},htmlFileInputId:"file-input",skipImportAfterTaskCreate:!0,supportedExtensions:r.p.resizer,filterFiles:i})},y=function(){return(0,C.jsx)(i.m,{children:(0,C.jsx)(R,{})})}},51747:function(e,t,n){n.d(t,{J:function(){return s}});var r=n(25617),i=n(40524),o=n(82793),u=n(90177),l=n(67294),a=n(12613),s=function(e,t){var n=(0,u.CG)(o.d,c).images,s=(0,r.I0)(),f=(0,l.useRef)(!1);return(0,l.useEffect)((function(){n.length>0&&!f.current&&(t&&t(),f.current=!0),n.length>0&&(0,a.lj)(n)&&(e(),setTimeout((function(){return s((0,i.mc)())}),2e3))}),[n]),(0,l.useEffect)((function(){return function(){s((0,i.mc)())}}),[]),{images:n,deleteImage:function(e){s((0,i.ao)(e.id))},deleteAllImages:function(){s((0,i.zC)())}}},c=function(e,t){if(e.images.length!==t.images.length)return!1;var n=!1;return e.images.forEach((function(e){var r=t.images.find((function(t){return t.id===e.id}));r?e.fileState.status!==r.fileState.status&&(n=!0):n=!0})),!n}},21399:function(e,t,n){n.d(t,{X3:function(){return i},eE:function(){return u},gn:function(){return o},mc:function(){return a},pB:function(){return l}});var r=n(93958).v.actions,i=r.setTask,o=r.setIsImporting,u=r.setProgress,l=r.setImportComplete,a=r.reset},60071:function(e,t,n){n.d(t,{Ay:function(){return O},B7:function(){return H},Bd:function(){return d},Bo:function(){return A},Bq:function(){return B},CT:function(){return v},Ij:function(){return j},OS:function(){return P},Oz:function(){return h},QL:function(){return i},Sl:function(){return U},Wn:function(){return D},XI:function(){return T},Xc:function(){return s},Y0:function(){return p},Ym:function(){return o},ZN:function(){return W},_O:function(){return I},dI:function(){return S},dS:function(){return z},eE:function(){return u},is:function(){return w},l5:function(){return R},lf:function(){return a},oM:function(){return x},or:function(){return f},pR:function(){return E},pU:function(){return k},pj:function(){return y},rW:function(){return b},sp:function(){return g},u4:function(){return l},vG:function(){return F},x_:function(){return _},yD:function(){return c},yI:function(){return m},zE:function(){return C},zO:function(){return L}});var r=n(48720).k.actions,i=r.setImage,o=r.imageSetRatio,u=r.resizeSetColor,l=r.resizeSetDPI,a=r.resizeSetDimensionType,s=r.resizeSetEditType,c=r.resizeSetHeight,f=r.resizeSetIsLocked,g=r.resizeSetPercentage,d=r.resizeSetSaveAs,p=r.resizeSetShouldFillColor,m=r.resizeSetTargetFileSize,S=r.resizeSetUnit,v=r.resizeSetWidth,h=r.resizeToggleDimension,z=(r.resizeSetOptimizationLevel,r.resizeSetFileUnit),I=r.resizeSetFillColorType,C=r.cropSetHeight,R=r.cropSetWidth,y=r.cropSetRatio,T=r.cropToggleCropOrientation,k=r.cropSetLeft,E=r.cropSetTop,_=r.cropSetCropBox,x=r.cropReset,A=r.cropHandleCropBoxChange,F=r.cropSetCustomRatioX,O=r.cropSetCustomRatioY,b=r.flipToggleHorizontal,B=r.flipToggleVertical,L=r.flipReset,w=(r.rotateSetStraighten,r.rotateSetRotation),H=r.rotateReset,W=r.rotateSetInitialData,j=(r.historyPop,r.historyPush,r.modalClose),P=r.modalOpen,U=(r.reset,r.resetSettings),D=(r.addOperation,r.deleteAllOperations)}}]);
//# sourceMappingURL=6127.a7a7df6612969ca7.js.map